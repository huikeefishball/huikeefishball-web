backend:
  name: git-gateway
  branch: master # Branch to update (optional; defaults to master)

publish_mode: editorial_workflow

media_folder: "static/images/uploads" # Media files will be stored in the repo under static/images/uploads
public_folder: "/images/uploads" # The src attribute for uploaded media will begin with /images/uploads

collections:
  - name: "products"
    label: "產品 Products"
    folder: "data/products"
    create: true
    identifier_field: "title.tc"
    slug: "{{fields.id}}"
    fields:
      - label: "ID"
        name: "id"
        widget: string
      - label: "標題 Title"
        name: "title"
        widget: object
        required: false
        fields:
          - label: "English"
            name: "en"
            widget: string
          - label: "日本語"
            name: "ja"
            widget: string
          - label: "繁體中文"
            name: "tc"
            widget: string
      - label: "內文 Description"
        name: "description"
        widget: object
        required: false
        fields:
          - label: "English"
            name: "en"
            widget: markdown
          - label: "日本語"
            name: "ja"
            widget: markdown
          - label: "繁體中文"
            name: "tc"
            widget: markdown
      - label: "背景圖片 Background Image"
        name: "bg_image"
        widget: "image"
        required: false
      - label: "背景圖片標題 Background Title"
        name: "bg_title"
        widget: object
        required: false
        fields:
          - label: "English"
            name: "en"
            widget: string
          - label: "日本語"
            name: "ja"
            widget: string
          - label: "繁體中文"
            name: "tc"
            widget: string
  - name: "pages"
    label: "頁面 Pages"
    files:
      - label: "產品頁面 Products Page"
        name: "products_page"
        file: "data/products_page.yml"
        fields:
          - label: "選單名稱 Menu Title"
            name: "menu_title"
            widget: object
            fields:
              - label: "English"
                name: "en"
                widget: string
              - label: "日本語"
                name: "ja"
                widget: string
              - label: "繁體中文"
                name: "tc"
                widget: string
          - label: "標題 Title"
            name: "title"
            widget: object
            fields:
              - label: "English"
                name: "en"
                widget: string
              - label: "日本語"
                name: "ja"
                widget: string
              - label: "繁體中文"
                name: "tc"
                widget: string
          - label: "引述 Quote"
            name: "quote"
            widget: "object"
            fields:
              - label: "內容 Content"
                name: "content"
                widget: object
                required: false
                fields:
                  - label: "English"
                    name: "en"
                    widget: string
                  - label: "日本語"
                    name: "ja"
                    widget: string
                  - label: "繁體中文"
                    name: "tc"
                    widget: string
              - label: "講者 Author"
                name: author
                widget: object
                required: false
                fields:
                  - label: "English"
                    name: "en"
                    widget: string
                  - label: "日本語"
                    name: "ja"
                    widget: string
                  - label: "繁體中文"
                    name: "tc"
                    widget: string
          - label: "描述 Description"
            name: "description"
            widget: object
            required: false
            fields:
              - label: "English"
                name: "en"
                widget: string
              - label: "日本語"
                name: "ja"
                widget: string
              - label: "繁體中文"
                name: "tc"
                widget: string
          - label: "產品列表項目 Product List Items"
            label_singular: "產品列表項目 Product List Item"
            name: "list_items"
            widget: "list"
            fields:
              - label: "產品 Products"
                label_singular: "產品 Product"
                name: "id"
                widget: "relation"
                collection: "products"
                valueField: "id"
                searchFields: ["id", "title.en", "title.ja", "title.tc"]
                displayFields: ["title.tc", "title.en"]
